import { Injectable } from "@angular/core";
import { map } from "leaflet";

@Injectable({
    providedIn: 'root'
})
export class GeometryReducePrecisionService {

    private configuration: Map<string,Map<number,number>> = new Map();

    constructor(){
        const mapPerso:Map<number,number> = new Map();
        mapPerso.set(5,0.01);
        mapPerso.set(5.5,0.01);
        mapPerso.set(6,0.01);
        mapPerso.set(6.5,0.01);
        mapPerso.set(7,0.01);
        mapPerso.set(7.5,0.01);
        mapPerso.set(8,0.01);
        mapPerso.set(8.5,0.001);
        mapPerso.set(9,0.001);
        mapPerso.set(9.5,0.001);
        mapPerso.set(10,0.001);
        mapPerso.set(10.5,0.001);
        mapPerso.set(11,0);
        mapPerso.set(11.5,0);
        mapPerso.set(12,0);
        mapPerso.set(12.5,0);
        mapPerso.set(13,0);
        mapPerso.set(13.5,0);
        mapPerso.set(14,0);
        mapPerso.set(14.5,0);
        mapPerso.set(15,0);
        mapPerso.set(15.5,0);
        mapPerso.set(16,0);
        mapPerso.set(16.5,0);
        mapPerso.set(17,0);
        mapPerso.set(17.5,0);
        mapPerso.set(18,0);
        this.configuration.set('autre', mapPerso);

        const mapRegion:Map<number,number> = new Map();
        mapRegion.set(5,0.01);
        mapRegion.set(5.5,0.01);
        mapRegion.set(6,0.01);
        mapRegion.set(6.5,0.01);
        mapRegion.set(7,0.01);
        mapRegion.set(7.5,0.001);
        mapRegion.set(8,0.001);
        mapRegion.set(8.5,0.001);
        mapRegion.set(9,0.001);
        mapRegion.set(9.5,0.001);
        mapRegion.set(10,0.001);
        mapRegion.set(10.5,0);
        mapRegion.set(11,0);
        mapRegion.set(11.5,0);
        mapRegion.set(12,0);
        mapRegion.set(12.5,0);
        mapRegion.set(13,0);
        mapRegion.set(13.5,0);
        mapRegion.set(14,0);
        mapRegion.set(14.5,0);
        mapRegion.set(15,0);
        mapRegion.set(15.5,0);
        mapRegion.set(16,0);
        mapRegion.set(16.5,0);
        mapRegion.set(17,0);
        mapRegion.set(17.5,0);
        mapRegion.set(18,0);
        this.configuration.set('region', mapRegion);

        const mapDepartement:Map<number,number> = new Map();
        mapDepartement.set(5,0.01);
        mapDepartement.set(5.5,0.01);
        mapDepartement.set(6,0.01);
        mapDepartement.set(6.5,0.01);
        mapDepartement.set(7,0.01);
        mapDepartement.set(7.5,0.001);
        mapDepartement.set(8,0.001);
        mapDepartement.set(8.5,0.001);
        mapDepartement.set(9,0.001);
        mapDepartement.set(9.5,0.001);
        mapDepartement.set(10,0.001);
        mapDepartement.set(10.5,0);
        mapDepartement.set(11,0);
        mapDepartement.set(11.5,0);
        mapDepartement.set(12,0);
        mapDepartement.set(12.5,0);
        mapDepartement.set(13,0);
        mapDepartement.set(13.5,0);
        mapDepartement.set(14,0);
        mapDepartement.set(14.5,0);
        mapDepartement.set(15,0);
        mapDepartement.set(15.5,0);
        mapDepartement.set(16,0);
        mapDepartement.set(16.5,0);
        mapDepartement.set(17,0);
        mapDepartement.set(17.5,0);
        mapDepartement.set(18,0);
        this.configuration.set('departement', mapDepartement);

        const mapCommune:Map<number,number> = new Map();
        mapCommune.set(5,0.0001);
        mapCommune.set(5.5,0.0001);
        mapCommune.set(6,0.0001);
        mapCommune.set(6.5,0.0001);
        mapCommune.set(7,0.0001);
        mapCommune.set(7.5,0.0001);
        mapCommune.set(8,0.0001);
        mapCommune.set(8.5,0.0001);
        mapCommune.set(9,0.0001);
        mapCommune.set(9.5,0.0001);
        mapCommune.set(10,0.0001);
        mapCommune.set(10.5,0.0001);
        mapCommune.set(11,0.0001);
        mapCommune.set(11.5,0.00001);
        mapCommune.set(12,0.00001);
        mapCommune.set(12.5,0.00001);
        mapCommune.set(13,0.00001);
        mapCommune.set(13.5,0.00001);
        mapCommune.set(14,0.000001);
        mapCommune.set(14.5,0.000001);
        mapCommune.set(15,0.000001);
        mapCommune.set(15.5,0.000001);
        mapCommune.set(16,0.000001);
        mapCommune.set(16.5,0.000001);
        mapCommune.set(17,0.000001);
        mapCommune.set(17.5,0.000001);
        mapCommune.set(18,0.000001);
        this.configuration.set('commune', mapCommune);

        const mapBassinVie:Map<number,number> = new Map();
        mapBassinVie.set(5,0.0001);
        mapBassinVie.set(5.5,0.0001);
        mapBassinVie.set(6,0.0001);
        mapBassinVie.set(6.5,0.0001);
        mapBassinVie.set(7,0.0001);
        mapBassinVie.set(7.5,0.0001);
        mapBassinVie.set(8,0.0001);
        mapBassinVie.set(8.5,0.0001);
        mapBassinVie.set(9,0.0001);
        mapBassinVie.set(9.5,0.0001);
        mapBassinVie.set(10,0.0001);
        mapBassinVie.set(10.5,0.0001);
        mapBassinVie.set(11,0.0001);
        mapBassinVie.set(11.5,0.00001);
        mapBassinVie.set(12,0.00001);
        mapBassinVie.set(12.5,0.00001);
        mapBassinVie.set(13,0.00001);
        mapBassinVie.set(13.5,0.00001);
        mapBassinVie.set(14,0);
        mapBassinVie.set(14.5,0);
        mapBassinVie.set(15,0);
        mapBassinVie.set(15.5,0);
        mapBassinVie.set(16,0);
        mapBassinVie.set(16.5,0);
        mapBassinVie.set(17,0);
        mapBassinVie.set(17.5,0);
        mapBassinVie.set(18,0);
        this.configuration.set('bassinvie', mapBassinVie);

        const mapZoneEmploi:Map<number,number> = new Map();
        mapZoneEmploi.set(5,0.01);
        mapZoneEmploi.set(5.5,0.01);
        mapZoneEmploi.set(6,0.01);
        mapZoneEmploi.set(6.5,0.01);
        mapZoneEmploi.set(7,0.01);
        mapZoneEmploi.set(7.5,0.001);
        mapZoneEmploi.set(8,0.001);
        mapZoneEmploi.set(8.5,0.001);
        mapZoneEmploi.set(9,0.001);
        mapZoneEmploi.set(9.5,0.001);
        mapZoneEmploi.set(10,0.001);
        mapZoneEmploi.set(10.5,0);
        mapZoneEmploi.set(11,0);
        mapZoneEmploi.set(11.5,0);
        mapZoneEmploi.set(12,0);
        mapZoneEmploi.set(12.5,0);
        mapZoneEmploi.set(13,0);
        mapZoneEmploi.set(13.5,0);
        mapZoneEmploi.set(14,0);
        mapZoneEmploi.set(14.5,0);
        mapZoneEmploi.set(15,0);
        mapZoneEmploi.set(15.5,0);
        mapZoneEmploi.set(16,0);
        mapZoneEmploi.set(16.5,0);
        mapZoneEmploi.set(17,0);
        mapZoneEmploi.set(17.5,0);
        mapZoneEmploi.set(18,0);
        this.configuration.set('zoneemploi', mapZoneEmploi);

        const mapEpci:Map<number,number> = new Map();
        mapEpci.set(5,0.0001);
        mapEpci.set(5.5,0.0001);
        mapEpci.set(6,0.0001);
        mapEpci.set(6.5,0.0001);
        mapEpci.set(7,0.0001);
        mapEpci.set(7.5,0.0001);
        mapEpci.set(8,0.0001);
        mapEpci.set(8.5,0.0001);
        mapEpci.set(9,0.0001);
        mapEpci.set(9.5,0.0001);
        mapEpci.set(10,0.0001);
        mapEpci.set(10.5,0.0001);
        mapEpci.set(11,0.0001);
        mapEpci.set(11.5,0.00001);
        mapEpci.set(12,0.00001);
        mapEpci.set(12.5,0.00001);
        mapEpci.set(13,0.00001);
        mapEpci.set(13.5,0.00001);
        mapEpci.set(14,0);
        mapEpci.set(14.5,0);
        mapEpci.set(15,0);
        mapEpci.set(15.5,0);
        mapEpci.set(16,0);
        mapEpci.set(16.5,0);
        mapEpci.set(17,0);
        mapEpci.set(17.5,0);
        mapEpci.set(18,0);
        this.configuration.set('epci', mapEpci);
    }

    getCoeff(type:string,zoom:number):number {
        return this.configuration.get(type)?.get(zoom) as number;
    }
}
